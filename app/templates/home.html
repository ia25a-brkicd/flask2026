{% extends 'base.html' %} {% block title %}Home | Flor'Avis{% endblock %} {%
block head %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='styles/home.css') }}"
/>
<link
  rel="icon"
  href="{{ url_for('static', filename='images/ProfilbildLogo.png') }}"
  type="image/x-icon"
/>
{% endblock %} {% block content %}

<div class="home">
  <div class="homeContent">
    <img
      class="homeImage"
      src="{{ url_for('static', filename='styles/image/WebsiteChunkyCharcoalSoapBlock.png') }}"
      alt="Chunky Charcoal Soap"
    />

    <div class="homeTextOverlay">
      <div class="homeSlogan">
        Crafted with passion.<br />
        defined by purity
      </div>
      <a class="homeShopNow" href="{{ url_for('shop') }}">Jetzt einkaufen</a>
    </div>
  </div>

  <!-- Product Showcase Carousel -->
  <div class="productShowcase">
    <div class="showcase-container">
      <div class="showcase-carousel">
        <div class="showcase-slides">
          {% for product in products %}
          <div class="showcase-slide">
            <div class="showcase-image">
              <img
                src="{{ url_for('static', filename=product['image']) }}"
                alt="{{ product['name'] }}"
              />
            </div>
            <div class="showcase-content">
              <h2 class="showcase-title">{{ product['name'] }}</h2>
              <p class="showcase-description">{{ product['short'] }}</p>
              <p class="showcase-price">
                {{ "%.2f"|format(product['price']) }} €
              </p>
              <a
                href="{{ url_for('product_detail', product_id=product['id']) }}"
                class="showcase-btn"
                >Jetzt kaufen</a
              >
            </div>
          </div>
          {% endfor %}
        </div>

        <!-- Navigation Arrows -->
        <button class="showcase-prev" onclick="previousSlide()">
          <i class="fa fa-chevron-left"></i>
        </button>
        <button class="showcase-next" onclick="nextSlide()">
          <i class="fa fa-chevron-right"></i>
        </button>
      </div>

      <!-- Dots/Indicators -->
      <div class="showcase-dots">
        {% for product in products %}
        <span
          class="dot {% if loop.first %}active{% endif %}"
          onclick="currentSlide({{ loop.index0 }})"
        ></span>
        {% endfor %}
      </div>
    </div>
  </div>

  <footer class="homeFooter">
    <div class="homeFooterRight">
      <p class="footerBrand">Flor’avis</p>
      <p class="footerTagline">Eine Revolution in der Seifenbranche</p>

      <div class="socialMedia">
        <a href="https://www.tiktok.com/@official.flor.avis" target="_blank">
          <img
            src="{{ url_for('static', filename='styles/image/tiktokLogo.webp') }}"
            alt="TikTok"
          />
        </a>
        <a href="https://www.instagram.com/official.flor.avis/" target="_blank">
          <img
            src="{{ url_for('static', filename='styles/image/instaLogo.png') }}"
            alt="Instagram"
          />
        </a>
      </div>
    </div>

    <div class="homeFooterLeft">
      <div class="footerColumn">
        <h4>Marke</h4>
        <ul class="footerList">
          <li><a href="{{ url_for('about_us') }}">Warum Naturprodukte?</a></li>
          <li>
            <a href="{{ url_for('about_us') }}">Der Flor'avis Unterschied</a>
          </li>
          <li>
            <a href="{{ url_for('about_us') }}"
              >Keine schädlichen Inhaltsstoffe</a
            >
          </li>
        </ul>
      </div>

      <div class="footerColumn">
        <h4>Shop</h4>
        <ul class="footerList">
          <li>
            <a href="{{ url_for('shop', category='classic') }}">Blockseife</a>
          </li>
          <li><a href="{{ url_for('shop') }}">Bestseller</a></li>
          <li>
            <a href="{{ url_for('shop', category='luxury') }}">Bundles</a>
          </li>
          <li><a href="{{ url_for('shop') }}">Ankündigungen</a></li>
        </ul>
      </div>

      <div class="footerColumn">
        <h4>Support</h4>
        <ul class="footerList">
          <li><a href="{{ url_for('faq') }}">FAQ</a></li>
          <li><a href="{{ url_for('contact') }}">Kontakt</a></li>
          <li><a href="{{ url_for('terms') }}">Geschäftsbedingungen</a></li>
          <li><a href="{{ url_for('shipping') }}">Versandrichtlinien</a></li>
        </ul>
      </div>
    </div>
  </footer>
</div>

<script>
  let currentSlideIndex = 0;

  function nextSlide() {
    const slides = document.querySelectorAll(".showcase-slide");
    currentSlideIndex = (currentSlideIndex + 1) % slides.length;
    updateSlide();
  }

  function previousSlide() {
    const slides = document.querySelectorAll(".showcase-slide");
    currentSlideIndex = (currentSlideIndex - 1 + slides.length) % slides.length;
    updateSlide();
  }

  function currentSlide(index) {
    currentSlideIndex = index;
    updateSlide();
  }

  function updateSlide() {
    const slides = document.querySelectorAll(".showcase-slide");
    const dots = document.querySelectorAll(".dot");
    const slidesContainer = document.querySelector(".showcase-slides");

    // Update slides visibility (slide effect)
    const offset = currentSlideIndex * -100;
    slidesContainer.style.transform = `translateX(${offset}%)`;

    // Update dots
    dots.forEach((dot, index) => {
      dot.classList.toggle("active", index === currentSlideIndex);
    });
  }
</script>

{% endblock %}
